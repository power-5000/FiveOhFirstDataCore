@namespace FiveOhFirstDataCore.Components.Calendar

@if (_visible)
{
    <CascadingValue Value="@this">
        @ChildContent
        <div class="calendar">
            <div class="calendar-nav">
                <div class="col-md-4 text-center text-md-start">
                    <div class="btn-group" role="group" aria-label="Previous Next Button">
                        <button type="button" class="btn btn-primary" @onclick="OnPrevious">
                            <span class="oi oi-chevron-left" aria-aria-hidden="true"></span>
                        </button>
                        <button type="button" class="btn btn-primary" @onclick="OnNext">
                            <span class="oi oi-chevron-right" aria-aria-hidden="true"></span>
                        </button>
                    </div>
                    <button class="btn btn-primary" @onclick="Today">Today</button>
                </div>
                <div class="col-md-4 text-center text-md-center">
                    <div class="fs-4">

                        @(SelectedView?.Text)
                        @(CurrentDate.ToString())
                    </div>
                </div>
                <div class="col-md-4 text-center text-md-end">
                    <div class="btn-group" role="group" aria-label="Time Selection">
                    
                        <button type="button" class="btn btn-primary" disabled="@(IsLocal)" @onclick=@(() => IsZoneLocal(true))>
                            Local
                        </button>
                        <button type="button" class="btn btn-primary" disabled="@(!IsLocal)" @onclick=@(() => IsZoneLocal(false))>
                            EST
                        </button>
                    

                </div>
                <div class="btn-group" role="group" aria-label="View Selection">
                    @foreach (ICalendarView view in Views)
                    {
                        <button type="button" class="btn btn-primary" @onclick=@(() => OnChangeView(view))>
                            @view.Title
                        </button>
                    }
                </div>
            </div>
        </div>
        @SelectedView?.Render()
    </div>
</CascadingValue>
}
else
{
    <em>Loading...</em>
}